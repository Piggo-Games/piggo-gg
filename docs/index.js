var T=(I)=>{let q=!1,F={state:I.state,elements:[],keysDown:Q(),append:(z,H=!1)=>{if(F.elements.push(z),z.lex=F,!H)document.body.appendChild(z.e);if(z.children)for(let J of z.children)z.e.appendChild(J.e),F.append(J,!0);return!0},remove:(z)=>{let H=F.elements.indexOf(z);if(H===-1)return!1;if(F.elements.splice(H,1),z.e.parentElement)z.e.parentElement.removeChild(z.e);return!0}},G=()=>{if(requestAnimationFrame(G),!q&&document.body){if(document.body.style.backgroundColor=I.backgroundColor??"black",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",I.elements)for(let z of I.elements)F.append(z);q=!0}for(let z of F.elements){if(z.update?.(),z.children)for(let H of z.children)H.update?.();F.keysDown.update()}};return document.addEventListener("keydown",(z)=>{if(document.hasFocus()){let H=z.key.toLowerCase();if(!F.keysDown.get(H))F.keysDown.push({key:H,hold:0})}}),document.addEventListener("keyup",(z)=>{let H=z.key.toLowerCase();F.keysDown.remove(H)}),requestAnimationFrame(G),F};var Q=(I)=>{let q=I?[...I]:[];return{all:()=>[...q],get:(F)=>{return q.find((G)=>G.key===F)},copy:()=>Q(q),clear:()=>{q=[]},push:(F)=>{if(!q.find((G)=>G.key===F.key))return q.push(F)},remove:(F)=>{q=q.filter((G)=>G.key!==F)},update:()=>{for(let F of q)F.hold+=1}}};var N=(I,q)=>(F)=>{let G=document.createElement(I);if(Object.assign(G.style,q),Object.assign(G.style,F.style),G.oncontextmenu=(z)=>z.preventDefault(),F.style?.touchAction===void 0)G.ontouchstart=(z)=>z.preventDefault(),G.ontouchend=(z)=>z.preventDefault(),G.ontouchmove=(z)=>z.preventDefault(),G.ontouchcancel=(z)=>z.preventDefault();if(F.callbacks){let{onPointerDown:z,onPointerOver:H,onPointerOut:J}=F.callbacks;if(z)G.onpointerdown=z;if(H)G.onpointerover=H;if(J)G.onpointerout=J}return{lex:void 0,e:G,update:F.update,callbacks:F.callbacks,children:F.children??[]}},V=N("div",{position:"absolute",scrollbarWidth:"none",msOverflowStyle:"none",outline:"none",touchAction:"none"}),_=N("canvas",{position:"absolute",outline:"none",touchAction:"none"}),$=N("img",{position:"absolute",outline:"none",touchAction:"none",userSelect:"none",pointerEvents:"none"}),A=N("a",{position:"absolute",outline:"none",touchAction:"none"});var W=(I)=>{let q={position:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight/2},velocity:{x:Math.random()*2-4,y:0},radius:8,gravity:0.04,frozen:!1},F=V({style:{backgroundColor:I,borderRadius:"50%",border:"2px solid white",pointerEvents:"auto"},callbacks:{onPointerDown:()=>{F.lex?.remove(F)},onPointerOver:()=>{q.frozen=!0},onPointerOut:()=>{q.frozen=!1}},update:()=>{if(q.frozen)return;let G=F.e;G.style.width=`${q.radius}dvh`,G.style.height=`${q.radius}dvh`,G.style.top=`${q.position.y}px`,G.style.left=`${q.position.x}px`,q.velocity.y+=q.gravity,q.position.x+=q.velocity.x,q.position.y+=q.velocity.y;let{width:z,height:H}=G.getBoundingClientRect();if(q.position.x<0)q.position.x=0,q.velocity.x*=-1;if(q.position.x+z>window.innerWidth)q.position.x=window.innerWidth-z,q.velocity.x*=-1;if(q.position.y<0)q.position.y=0,q.velocity.y*=-1;if(q.position.y+H>window.innerHeight)q.position.y=window.innerHeight-H,q.velocity.y*=-1}});return F};var R=T({state:{},elements:[W("blue")]});
